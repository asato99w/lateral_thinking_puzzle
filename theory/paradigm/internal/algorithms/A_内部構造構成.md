# パラダイム内部構造構成アルゴリズム A

## 概要

パラダイム発見アルゴリズムによって見出されたパラダイム P に対して、その内部構造（P_pred, Conceivable(P), R(P)）を構成するアルゴリズム。

## 入力

- パラダイム P（パラダイム発見アルゴリズムの出力。解釈を含む）
- T（真理論）
- 記述素空間 F'

## 出力

- P_pred(P): P の予測関数（記述素 → 1/0 の写像）
- Conceivable(P): P の想起可能集合
- R(P): Conceivable(P) 内の関係構造

## 手順

### Step 1: P の解釈の言語化

P がどのようなストーリーであるかを自然言語で明確にする。「ある段階までの事実を受け入れた上で、残りの未知の事実を常識的に補完した一貫した解釈」としての P の内容を記述する。

### Step 2: P_pred(d)=1 の決定

記述素空間の各記述素 d について、P の解釈のもとで真と予測されるかを判定する。

- P のストーリーを構成する要素 → P_pred(d)=1
- P の説明から自然に導かれる帰結 → P_pred(d)=1

P_pred(d)=1 には Conceivable(P) 外の記述素も含めてよい。P の論理的帰結として真偽を導出できる記述素は、想起可能でなくても P_pred に登録する。

（規則: 予測と想起可能性の決定 Rule 1a）

### Step 3: P_pred(d)=0 の決定

記述素空間の各記述素 d について、P の解釈のもとで偽と予測されるかを判定する。以下のいずれかに該当するものを P_pred(d)=0 とする。

- P の前提と矛盾する記述素（前提矛盾）
- P の説明と両立しない別の説明に対応する記述素（排他的説明）
- P が積極的に「ない」と予測する記述素（範囲否定）

各 P_pred(d)=0 の記述素について、その否定の根拠となる P_pred(d)=1 の記述素を特定する。

**注意**: P_pred(d)=0 に含めるのは、P の解釈から否定が**積極的に導出される**記述素のみである。P の概念体系では自然に想起されず、問われて初めて否定するような記述素（想定外）は P_pred に登録せず不定とする。特に、深いパラダイムの Conceivable 固有記述素は浅いパラダイムの概念体系では想起されないため、不定となる。

P_pred(d)=0 にも Conceivable(P) 外の記述素を含めてよい。

（規則: 予測と想起可能性の決定 Rule 1b）

### Step 4: Conceivable(P) の決定

P_pred に登録された記述素のうち、P の概念体系から自然に想起される記述素を Conceivable(P) とする。

- P の解釈を持つプレイヤーが「この話題に関連がある」と自然に感じる記述素 → Conceivable(P)
- P_pred に登録済みだが、問われて初めて考慮する記述素 → Conceivable(P) に含めない

Conceivable(P) ⊆ keys(P_pred) が成り立つ。

深いパラダイムの Conceivable 固有記述素が、浅いパラダイムの Conceivable(P) に含まれていないことを確認する。

（規則: 予測と想起可能性の決定 Rule 2, Rule 3）

### Step 5: R(P) の構成

Conceivable(P) の内部に関係構造を構成する。

1. P_pred(d)=1 の Conceivable 記述素間の因果・含意関係を設定する
2. P_pred(d)=1 から P_pred(d)=0 の Conceivable 記述素への排除関係を設定する（Step 3 で特定した根拠を関係として表現）
3. 各関係に強さ w を設定する

（規則: 関係構造の構成 Rule 1〜4）

### Step 6: 健全性検証

構成された内部構造が以下を満たすことを確認する。

1. Conceivable(P) ⊆ keys(P_pred)（包含関係）
2. P_pred の各記述素に対して 0 と 1 が同時に割り当てられていないこと（一貫性）
3. 各 P_pred(d)=0 の記述素に P_pred(d')=1 からの根拠が存在する（P_pred(d)=0 の根拠）
4. R(P) が Conceivable(P) 内に閉じている（閉包性）
5. R(P) の根が P_pred(d)=1 に含まれる（根の存在）
6. P_pred(d)=1 の記述素群が相互に矛盾しない（一貫性）

違反がある場合は Step 2〜5 に戻り修正する。

（規則: 健全性条件 条件 1〜6）

## 備考

- 本アルゴリズムはパラダイム発見の後に適用される。発見がパラダイムの解釈を決定し、本アルゴリズムが P_pred（予測関数）、Conceivable(P)（想起可能集合）、R(P)（関係構造）を決定する。
- 名称は暫定的なもの。
- 本アルゴリズムの性質については theory/terms.md「アルゴリズムの性質」を参照。
