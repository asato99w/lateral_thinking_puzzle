# 偶然の開き

## 概要

質問が複数の記述素を effect に含むことで、ある記述素を理由に質問が開き、別の記述素について意外な情報が得られる構造。パラダイムシフトの起点となるアノマリーの発生経路。

## 背景

単一記述素の質問のみでは、アノマリーを生む質問が原理的に開かない。

- パラダイム P の同化は P_pred(d)=1 の記述素の H を予測方向（1）に、P_pred(d)=0 の記述素の H を予測方向（0）に押す
- open(H) は H[d] ≈ 正解値 で質問を開く
- P_pred(d)=0 の記述素 d の正解は P の予測と逆（v=1）であるため、同化が H を正解から離す
- したがって P_pred(d)=0 に関する質問は開かず、アノマリーが発生しない

この原理的制約を解消するのが「偶然の開き」である。

## 定義

質問 q がパラダイム P に対して**偶然の開きを持つ**とは、q の effect が以下の2種の記述素を含むこと:

1. **開放記述素**: (d_open, v_open) で P_pred(d_open) = v_open
   - P の同化により H[d_open] → v_open となるため、q が開く理由となる

2. **異常記述素**: (d_anom, v_anom) で P_pred(d_anom) ≠ v_anom（かつ P_pred(d_anom) ≠ None）
   - 回答により O[d_anom] = v_anom が確定し、P にアノマリーを生む
   - P_pred(d_anom)=0 かつ v_anom=1、または P_pred(d_anom)=1 かつ v_anom=0

## ゲーム進行条件

メインパスの各パラダイム P_i（T を除く）について:

1. P_i に対して偶然の開きを持つ質問が存在すること
2. そのような質問群によるアノマリーの累積が tension > threshold を達成しうること

この条件が満たされない場合、ゲームは P_i で行き詰まる。

## 設計上の意味

- プレイヤーは開放記述素について聞いたつもりで、異常記述素の情報を「ついでに」得る
- 驚きはシステムが用意するのではなく、記述素の連なりと質問構造から自然に生まれる
- ゲーム的には「ある事実を確認したら、予想外の別の事実も分かった」という体験に対応する

## 偶然の開き以降の流れ

偶然の開きは「最初のアノマリー」のトリガーである。以降は:

1. アノマリー蓄積 → tension > threshold → パラダイムシフト
2. 新パラダイムの同化が走り、H が新しい方向に動く
3. 新パラダイムに関連する質問が開く
4. 新パラダイム内で探索が進む
5. 再び偶然の開きまたは新パラダイムの予測と矛盾する回答でアノマリー蓄積
6. 次のパラダイムシフトへ

## 備考

- 質問の自然さの検討が必要: 「なぜこの質問で両方の情報が得られるか」がゲーム的に自然でなければならない
- 各パラダイム遷移について個別に偶然の開きの存在を確認すべき
