# /sample-fix — サンプル修正

## 概要

既存サンプル内の特定ファイルに問題がある場合に、依存関係を読み解いて影響範囲を特定し、影響を受けるファイルを削除して再生成する。修復が完了した後、まだ先の生成が必要であれば `/sample-generate` に引き渡す。

## 引数

- `$ARGUMENTS`: 対象サンプルのパスと修正内容の説明
  - 例: `samples/001_ウミガメのスープ/01_20260227_統合アルゴリズム適用 パラダイム発見でS2が見落とされている`

## 手順

### 1. 問題の特定

指定された修正内容から、問題のあるファイルを特定する。

### 2. 依存関係の解析

対象反復ディレクトリ内の各ファイル冒頭に記載された規則・アルゴリズム名を読み、アルゴリズムの依存構造と照合して、問題のあるファイルに依存しているファイルを特定する。

### 3. 影響ファイルの削除

問題のあるファイルと、それに依存するファイルを削除する。問題のあるファイルより上流のファイルは保持する。

削除対象をユーザーに提示し、確認を得てから実行する。

### 4. 穴埋め再生成

削除したファイルを、上流の生成済みファイルを入力としてアルゴリズムに従い再生成する。

### 5. 後続生成の判定

穴埋めが完了した時点で、アルゴリズムの残りの手順がある場合は `/sample-generate` での続行をユーザーに提案する。

## 参照ファイル

- 対象サンプルで使用されたアルゴリズム（ファイル冒頭の記載から特定）
- `samples/_template.md` — 命名規則

## 禁止事項

**既存サンプル・既存データの参照禁止**: 再生成時に、他のサンプルや `app/poc/data/` 内の JSON データを参考にしてはならない。入力は理論（`theory/`）と対象反復ディレクトリ内の上流ファイルのみ。
