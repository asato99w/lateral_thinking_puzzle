# /sample-fix — サンプル修正（補足的・イレギュラー）

## 概要

既存サンプルの部分修正を行う補足手段。正式には `/sample-generate` による再生成が正しいフローだが、軽微な変更時に使用する。

## 引数

- `$ARGUMENTS`: 対象サンプルのパスと修正内容の説明（例: `samples/001_ウミガメのスープ/09_20260219_統合アルゴリズム適用 質問Q3のprerequisites修正`）

## 事前条件

- 修正対象のサンプルが存在すること
- 修正が軽微であること（複数箇所に影響する場合は `/sample-generate` を推奨）

## 手順

### 1. 影響範囲の特定

修正内容を分析し、影響を受けるファイルを特定する。

依存方向: `01_入力 → 02_記述素展開 → 03_パラダイム発見 → 04_内部構造構成 → 05_質問生成 → 06_形式化 → 07_検証`

上流ファイルの修正は下流全てに波及する可能性がある。

| 修正対象 | 影響範囲 | 推奨アクション |
|---------|---------|--------------|
| 05 以降のみ | 05〜07 | 修正して検証 |
| 04 以前 | 04〜07 全て | `/sample-generate` での再生成を推奨 |
| 06_形式化のみ | 06〜07 | 修正して JSON 再変換・再検証 |

### 2. 再生成推奨の判定

以下のいずれかに該当する場合、再生成を推奨してユーザーに確認する:

- 修正が 04_内部構造構成以前に及ぶ
- 修正箇所が 3 箇所以上
- パラダイム構造（メインパス・サブパス）に変更がある
- 記述素空間に追加・削除がある

### 3. 修正の実施

ユーザー確認後、該当ファイルを修正する。

- 修正箇所を明示し、変更前・変更後を記録する
- 修正理由を該当ファイルに注記する（必要に応じて）

### 4. 下流ファイルへの波及確認

修正した箇所が下流ファイルに影響するかを確認する。

- **06_形式化.md**: 修正内容が形式化データに反映されているか
- **07_検証.md**: 修正後の検証が必要か（必要なら再検証）
- **JSON データ**: `app/poc/data/` の JSON が修正後の形式化と一致するか

### 5. 再検証（必要な場合）

修正が検証結果に影響する場合、`/sample-import` を実行して再検証する。

## 参照ファイル

- `samples/_template.md` — ファイル構成と要件
- `theory/integration/algorithms/統合アルゴリズム.md` — フェーズ間の依存関係

## 注意事項

- このスキルはイレギュラーな補足手段。品質上の問題がある場合は `/sample-generate` での再生成が正式フロー
- 修正履歴はgitで管理する（修正前の状態はコミット済みであること）
- 修正が大規模になった場合は途中でも再生成への切り替えを提案する
