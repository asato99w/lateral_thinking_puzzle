# 再設計の検討

S2クリア問題の分析（別ノート参照）を起点に、パラダイムの枠組みを一から再検討した記録。

---

## 確定した方向性

### 1. パラダイムの構造

**P_pred: {d → 0 | 1 | unknown}**
- 想起可能性に関係なく、パラダイムの世界観から論理的に導出される予測すべて
- unknownは真偽どちらも導出できない状態
- 例: P1（日常の食事）ではFt-29（人肉を食べた）は想起されないが、Ft-29=0は論理的に導出される

**Conceivable(P)**
- パラダイムの概念体系で自然に想起される記述素の部分集合
- 旧D(P)が担っていた「概念的な可視範囲」に対応
- パラダイムごとに独立に定義される

旧D(P)はP_predの一部（想起可能なもの）だけを含む中途半端なものだった。P_predは想起可能性でフィルタせず、世界観の論理的含意をすべて含む。

### 2. コア概念の廃止

想起可能集合がパラダイムごとに独立に定義されるため、コアは不要。コアが担っていた機能（質問ブロック）はConceivable(P)への所属判定で代替される。

歴史的経緯: D(P)を定義した段階ではコア概念がなく、D(P)が実質的に「概念的な可視範囲」を表すものだった。後からコアが導入されたが、D(P)の性質は見直されなかった。

### 3. 質問ブロック

質問qが参照する記述素に2種類ある：
- **効果記述素**: 回答により真偽が更新される（現在のans_yes/ans_no/ans_irrelevant）
- **関連記述素**: 質問テキストが概念的に前提とするが、真偽は更新しない

いずれかがConceivable(P_current)に含まれなければ、qはブロック。判定メカニズムはConceivable(P)への所属判定に統一される。

### 4. depthの導出

**Explained(P) = {(d, P_pred(d)) | P_pred(d) = O*(d)}** — 符号込みの正しい予測集合

Explained(P) ⊂ Explained(P') ならば depth(P) < depth(P')。包含関係による半順序。サイドパラダイムはメインパスと比較不能な位置に自然に配置される。手動での深度割り当てが不要になる。

### 5. Hと同化

機構は維持。P_pred上に関係を定義するが、ヌル許容（多くの予測は関係を持たなくてよい）。

プレイヤーの体験：パラダイムにいるがそれ自体をよく知らない → パラダイム内探索（同化連鎖）で理解を深める → アノマリーを認識するようになる → 質問が表出する。

### 6. パラダイムシフトの構造

**発動と方向の分離を維持する。**

根拠: アノマリー蓄積（客観的な不整合）と認知的近さ（Hによる主観的な準備状態）は別の軸。統合すると「アノマリーを最もよく解消するパラダイム」が選ばれ、認知的に遠いパラダイムへの遷移が起きうる。

- **発動**: アノマリー蓄積が閾値を超える（客観的判定、Hに依存しない）
- **方向**: 候補の絞り込み（explained_o(O, P') > explained_o(O, P_current)）+ alignment(H, P')による選択

---

### 7. 固有・共有記述素の再定義

Conceivable(P)ベースで定義する。

- **固有想起**: Conceivable(P)にのみ属し、他のどのパラダイムのConceivableにも属さない記述素
- **共有想起**: 複数パラダイムのConceivableに共通して含まれる記述素

旧枠組みでの役割分担がそのまま対応する：
- 固有想起 → 同化連鎖の起点、アノマリー蓄積（シフト発動）
- 共有想起 → パラダイム間の接続、alignment蓄積（シフト方向）
- 固有→共有の関係連鎖 → 段階的開示の構造

注意: 旧D(P)では「固有 = 他のパラダイムが予測を持たない」が保証されていた。新枠組みではConceivable固有であっても、P_predで他のパラダイムが予測を持ちうる。「固有アノマリー → シフトで必ず解消」という保証は崩れるが、閾値設計においてはこれを前提としない（下記参照）。

### 8. 閾値の導出

**threshold(P) = |固有想起アノマリー(P)| + min_{P'} |共有想起アノマリー(P, P')|**

- 固有想起アノマリー: Conceivable(P)固有の記述素のうち、P_pred(d) ≠ O*(d) であるもの
- 共有想起アノマリー(P, P'): Conceivable(P) ∩ Conceivable(P') 内でP_pred(d) ≠ O*(d) であるもの
- min_{P'}: 共有アノマリーが最小のパラダイムとの値を採用

意味合い:
- 固有想起アノマリー ≥ この数だけのアノマリーはパラダイム内で確実に観測される。少なくともこれが一通り崩れるまではシフトしない（早すぎるシフトの防止）
- + min共有: 最低1つのシフト先との共有アノマリーも観測された状態を保証

導出の根拠:
- Conceivable(P)とO*から算出でき、シフト先に依存しない
- 旧枠組みの近傍ベース閾値と比べ、固有・共有の意味に基づいた導出で恣意性が減る
- 構造的に早すぎるリスクは残りうるが、運用（データ調整）でカバー可能な範囲

検討の経緯:
- 比率ベース（anomaly / predictions）: 概念的には適切だがゲームテンポに合わない
- 絶対数のみ: アノマリーの数だけでは不十分。質的な区別が必要
- シフト先依存（resolvable anomalies）: 意味合いは正しいが、P'に依存する
- 発動と方向の統合: 認知的近さ（H）による遷移が阻害されるため不適
- 固有・共有アノマリーの組み合わせ: 上記の構成に到達

---

### 解消済みの検討事項

- **alignmentの正規化**: 候補絞り込みはexplained_o（P_predベース）、選択はalignment（Hベース）。P_predの大きさはalignmentに影響しないため、正規化問題は発生しない。
- **関係構造の位置づけ**: Conceivable(P)上で定義され、同化連鎖を駆動する役割は変わらない。固有→共有の連鎖要件もそのまま維持。大きな変更なし。

---

## 残りの検討事項

### 近傍の必要性

旧枠組みではシフト候補の絞り込みとthreshold導出に使用。新枠組みでは：
- 候補絞り込みはexplained_oで代替
- threshold導出は固有・共有アノマリーベースで代替
- 近傍自体が不要になる可能性が高い
