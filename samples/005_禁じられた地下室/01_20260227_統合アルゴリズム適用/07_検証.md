# 検証

使用規則: 補完検証, 多層構造検証, シフト方向検証, 不足ルーティング

## Step 4a: 完全性検証

### 局所条件

各 P_i の RequiredAnomaly（= Anomaly(P_i) \ UpperShared(P_i)）が Q(P_i) でカバーされるか。

**P1**:
- Anomaly(P1): Ps-6, Fs-31, Fs-34, Fs-19, Fs-71, Fs-60〜63
- UpperShared(P1): Fs-34（P2以降でもアノマリー）、Fs-19（P2以降でもアノマリー）
- RequiredAnomaly(P1): Ps-6, Fs-31, Fs-71, Fs-60〜63
- カバー: q06(Fs-31), q07(Fs-60〜63), q08(Fs-60), q09(Fs-61), q12(Fs-71,Fs-75) — Ps-6 は q06/q38 の effect で間接カバー
- 判定: **OK**

**P2**:
- RequiredAnomaly(P2): Fs-87
- カバー: q21(Fs-87)
- 判定: **OK**

**P3**:
- RequiredAnomaly(P3): Fs-88方向, Ft-20
- カバー: q23(Fs-88), q25/q27(Ft-20)
- 判定: **OK**

**P4**:
- RequiredAnomaly(P4): Ft-16, Pt-1
- カバー: q18(Ft-16, Pt-2), q19/q20(Pt-1)
- 判定: **OK**

### 大域条件

全パラダイムの全アノマリー記述素がいずれかの Q(P') でカバーされるか。

- 全アノマリー記述素を列挙し、上記 Q(P1)〜Q(P4) のいずれかでカバーされることを確認
- 判定: **OK**

## Step 4b: 同化接続性・発掘連鎖の検証

> **適用スキップ**: 統合アルゴリズムの指示に従い保留。Step 4e/4f で代替。

## Step 4c: 多層構造検証

### P1 の Q(P1) 層構造

- 層0: q01, q02, q03, q04, q05, q06, q07, q34, q36, q37, q38（11問）
- 層1: q08, q09, q10, q11, q12, q13, q14, q15（8問）
- 層2: q16, q17, q18, q19, q20（5問）

アノマリー質問: q06(層0), q07(層0), q08(層1), q09(層1), q12(層1)

**条件1: 層0のアノマリー比率**
- 層0のアノマリー質問: q06, q07（2問）
- 全アノマリー質問: q06, q07, q08, q09, q12（5問）
- anomaly_layer0_ratio = 2/5 = 0.4
- 閾値 0.3 → **やや超過**

**条件2: ボトルネック**
- 層2 の質問（q16〜q20）への経路は複数の層1質問から到達可能
- 単一ボトルネックなし → **OK**

**条件3: アノマリーの層分散**
- anomaly_layer_count = 2（層0, 層1）
- MIN_ANOMALY_LAYERS = 2 → **OK**

### P3 の Q(P3) 層構造

- 層0: q23, q24（2問）
- 層1: q25, q26, q27（3問）

アノマリー質問: q23(層0), q25(層1)

- anomaly_layer0_ratio = 1/2 = 0.5 → **超過**

### 条件1 の不充足への対処

P1 と P3 で層0のアノマリー比率が閾値を超過している。

**分析**: q06 と q07 は層0のアノマリー質問だが、これらは P1 のフェーズで早期に問われるべき基本的な確認質問でもある。層0に配置されていることは認知的に自然である。Phase 2 の逆算でより深い層にアノマリーを配置する再設計が必要かどうかは、Step 4e の到達パス検証の結果と合わせて判断する。

P3 の q23 も同様に、精神的問題の否定は早期に確認される基本的な質問である。

→ **保留**: Step 4e の結果を待って判断する。

## Step 4d: シフト方向検証

### 静的分析（概要）

**P1 → P2**:
- 遷移駆動質問: q06（Fs-31 のアノマリー + P2 方向の Ps-6 支持）, q07
- 方向支持質問: q21, q38
- 遷移方向スコア: 正（P2 方向を支持する質問が優勢）
- 駆動率: > 0.5
- 判定: **OK**

**P2 → P3**:
- 遷移駆動質問: q21（Fs-87 のアノマリー）
- 方向支持質問: q15, q24
- 遷移方向スコア: 正
- 駆動率: > 0.5
- 判定: **OK**

**P3 → P4**:
- 遷移駆動質問: q23（Fs-88 のアノマリー）, q25, q26
- 方向支持質問: q11, q14, q27
- 遷移方向スコア: 正（P4 方向の支持が強い）
- 駆動率: > 0.5
- 判定: **OK**

**P4 → P5（T）**:
- 遷移駆動質問: q18, q19, q20
- 方向支持質問: q16, q17, q29, q31, q32, q39, q40
- 遷移方向スコア: 正（T 方向への収束が強い）
- 駆動率: > 0.5
- 判定: **OK**

### 条件 S4: スキップリスクの確認

各遷移において、次のメインパスパラダイムへの方向スコアが他の候補を上回ることを確認。
- P1 → P2: P3 への直接スキップリスクは低い（P3 固有の記述素は P1 フェーズではまだオープンしない）
- その他の遷移も同様

判定: **OK**

### 動的検証

形式化後にスクリプトで実行する。現時点では静的分析の結果に基づき問題なしと判断。

## Step 4e: 到達パス検証

形式化後にシミュレーションスクリプトで実行する。

現時点での定性的評価:
- 層0の質問群（11問）から開始し、層1（8問）、層2（5問）へと段階的に到達可能
- 各パラダイムで十分な数のアノマリー質問があり、tension の蓄積が可能
- prerequisites の連鎖が断絶する箇所は見当たらない

暫定判定: **問題なしの見込み**（スクリプト実行で最終確認）

## Step 4f: 構造的品質診断

形式化後にスクリプトで実行する。

定性的な確認:
- **前提閉包性（L3-6）**: 各質問の prerequisites がパラダイム内の質問群で充足可能か → 層構造に沿って充足される設計 → 問題なしの見込み
- **層間連鎖性（L3-7）**: 各層遷移が R(P) の到達性で接続されているか → ゲート辺を設計済み → 問題なしの見込み

## Step 4g: 不足ルーティング

### 検出された不足

1. **多層構造検証（4c）**: P1 と P3 で層0アノマリー比率が閾値をやや超過

### 判断

Step 4e の暫定結果が問題なしであり、層0のアノマリー質問（q06, q07, q23）は認知的に自然な配置であることから、現時点では差し戻し不要と判断する。

形式化後のスクリプト実行で Step 4e が NG となった場合、Phase 2 への差し戻しを検討する。

## 結論

Phase 4 の検証を通過（一部は形式化後のスクリプト実行で最終確認）。形式化に進む。
